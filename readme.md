
# Image Utilities Tool

[![npm version](https://img.shields.io/npm/v/image-util)](https://www.npmjs.com/package/image-util)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

ä¸“ä¸šçš„å›¾ç‰‡å¤„ç†å‘½ä»¤è¡Œå·¥å…·ï¼Œæä¾›å›¾ç‰‡å‹ç¼©å’Œæœªä½¿ç”¨æ–‡ä»¶æ£€æµ‹ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ–¼ï¸ å›¾ç‰‡å‹ç¼©
- æ”¯æŒæ ¼å¼ï¼š`webp`/`jpeg`/`png`/`gif`
- è´¨é‡è°ƒèŠ‚ï¼ˆ1-99ï¼‰
- æ ¼å¼è½¬æ¢
- å‹ç¼©ç‡ç»Ÿè®¡
- å®‰å…¨æ¨¡å¼ï¼ˆæŒ‡å®šè¾“å‡ºç›®å½•é¿å…è¦†ç›–ï¼‰

### ğŸ§¹ æœªä½¿ç”¨æ–‡ä»¶æ£€æµ‹
- é€’å½’ç›®å½•æ‰«æ
- å†…å®¹å¼•ç”¨æ£€æµ‹
- äº¤äº’å¼åˆ é™¤ç¡®è®¤
- æ’é™¤ç›®å½•æ”¯æŒ
- ç©ºé—´é‡Šæ”¾ç»Ÿè®¡

## å®‰è£…
```bash
npm install -g image-util
```

## ä½¿ç”¨è¯´æ˜

### å›¾ç‰‡å‹ç¼©
```bash
ci --target [ç›®å½•è·¯å¾„] [é€‰é¡¹]

# ç¤ºä¾‹
ci -t ./images -q 80 -f webp -d ./output
```

| é€‰é¡¹ | ç®€å†™ | æè¿° | é»˜è®¤å€¼ |
|------|------|------|-------|
| --target | -t | ç›®æ ‡ç›®å½•ï¼ˆå¿…å¡«ï¼‰ | - |
| --quality | -q | å‹ç¼©è´¨é‡ï¼ˆ1-99ï¼‰ | 99 |
| --format | -f | è¾“å‡ºæ ¼å¼ï¼ˆwebp/jpeg/pngï¼‰ | åŸæ ¼å¼ |
| --dir | -d | è¾“å‡ºç›®å½• | åŸåœ°æ›¿æ¢ |
| --list | -l | æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨ | false |

### æœªä½¿ç”¨æ–‡ä»¶æ£€æµ‹
```bash
su --target [ç›®å½•è·¯å¾„] [é€‰é¡¹]

# ç¤ºä¾‹
su -t ./assets -e test_data temp_files
```

| é€‰é¡¹ | ç®€å†™ | æè¿° | é»˜è®¤å€¼ |
|------|------|------|-------|
| --target | -t | æ‰«æç›®å½•ï¼ˆå¿…å¡«ï¼‰ | - |
| --exclude | -e | æ’é™¤ç›®å½•/æ–‡ä»¶ | node_modules/.git |
| --list | -l | æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨ | false |

## ä½¿ç”¨ç¤ºä¾‹

### å‹ç¼©æ¡ˆä¾‹
```bash
$ ci -t ./src/images -q 75 -f webp -d ./dist

ğŸ“ ä½¿ç”¨ -q/--quality æŒ‡å®šè´¨é‡å‚æ•°ï¼ˆ1-99ï¼‰ï¼Œé»˜è®¤ä½¿ç”¨99
ğŸ’¾ è¾“å‡ºç›®å½•ï¼š./dist

å‹ç¼©è´¨é‡åˆ†æ•°: 75
å‹ç¼©å‰å¤§å°: 24.8 MB
å‹ç¼©åå¤§å°: 8.2 MB
å‹ç¼©ç‡: 66.94%
âœ… æˆåŠŸå‹ç¼© 42 ä¸ªæ–‡ä»¶
```

### æ¸…ç†æ¡ˆä¾‹
```bash
$ su -t ./public -e temp_files

? æ˜¯å¦åˆ é™¤æ–‡ä»¶ /project/public/banner-old.jpg (Y/n) y
? æ˜¯å¦åˆ é™¤æ–‡ä»¶ /project/public/obsolete-logo.png (Y/n) n

å·²é‡Šæ”¾ç©ºé—´:  1.7 MB
```

## å¼€å‘æŒ‡å—

### æœ¬åœ°æµ‹è¯•
```bash
npm link
ci --help  # æµ‹è¯•å‹ç¼©å‘½ä»¤
su --help  # æµ‹è¯•æ¸…ç†å‘½ä»¤
```

### æ„å»ºå‘å¸ƒ
```bash
npm version patch -m "å‘å¸ƒç‰ˆæœ¬ %s"
npm publish --access=public
```

## æ³¨æ„äº‹é¡¹
1. ä½¿ç”¨åŸåœ°æ›¿æ¢æ¨¡å¼ï¼ˆä¸æŒ‡å®š-då‚æ•°ï¼‰å‰å»ºè®®å¤‡ä»½
2. è´¨é‡å‚æ•°è¶…è¿‡99ä¼šè‡ªåŠ¨é™åˆ¶åˆ°æœ€å¤§å€¼
3. æ’é™¤ç›®å½•æ”¯æŒglobæ¨¡å¼ï¼ˆå¦‚ `*.tmp`ï¼‰
4. Windowsç³»ç»Ÿå®‰è£…æ—¶éœ€ç¡®ä¿å·²å®‰è£…Visual C++è¿è¡Œåº“